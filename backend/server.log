INFO:     Started server process [3264]
INFO:     Waiting for application startup.
2026-01-16 08:17:59,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:17:59,026 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("conversations")
2026-01-16 08:17:59,027 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-16 08:17:59,043 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("messages")
2026-01-16 08:17:59,046 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-16 08:17:59,057 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-16 08:17:59,058 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-16 08:17:59,065 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:41540 - "OPTIONS /conversations/ubaid123 HTTP/1.1" 200 OK
INFO:     127.0.0.1:41554 - "OPTIONS /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:18:09,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,290 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
2026-01-16 08:18:09,290 INFO sqlalchemy.engine.Engine [generated in 0.00070s] ('ubaid123',)
INFO:     127.0.0.1:41554 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:18:09,304 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:18:09,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,309 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
2026-01-16 08:18:09,310 INFO sqlalchemy.engine.Engine [cached since 0.02004s ago] ('ubaid123',)
INFO:     127.0.0.1:41554 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:18:09,318 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:41554 - "OPTIONS /conversations/1/messages HTTP/1.1" 200 OK
INFO:     127.0.0.1:41540 - "OPTIONS /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:18:09,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,353 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
2026-01-16 08:18:09,354 INFO sqlalchemy.engine.Engine [cached since 0.06443s ago] ('ubaid123',)
INFO:     127.0.0.1:41554 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:18:09,368 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:18:09,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,375 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:18:09,375 INFO sqlalchemy.engine.Engine [generated in 0.00064s] (1,)
INFO:     127.0.0.1:41540 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:18:09,403 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:18:09,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,409 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:18:09,409 INFO sqlalchemy.engine.Engine [cached since 0.03456s ago] (1,)
INFO:     127.0.0.1:41540 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:18:09,423 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:18:09,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,429 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:18:09,433 INFO sqlalchemy.engine.Engine [cached since 0.05865s ago] (1,)
INFO:     127.0.0.1:41540 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:18:09,439 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:18:09,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:09,452 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:18:09,454 INFO sqlalchemy.engine.Engine [cached since 0.0792s ago] (1,)
INFO:     127.0.0.1:41540 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:18:09,463 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:41540 - "OPTIONS /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:18:16,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:16,326 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:18:16,327 INFO sqlalchemy.engine.Engine [generated in 0.00110s] (1, 'ubaid123', 'user', 'hi', None, '2026-01-16 08:18:16.320769')
2026-01-16 08:18:16,346 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:18:16,347 INFO sqlalchemy.engine.Engine [generated in 0.00079s] (1,)
2026-01-16 08:18:16,354 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:18:16,354 INFO sqlalchemy.engine.Engine [generated in 0.00101s] ('2026-01-16 08:18:16.350164', 1)
2026-01-16 08:18:16,359 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:18:16,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:16,385 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:18:16,386 INFO sqlalchemy.engine.Engine [generated in 0.00068s] (8,)
2026-01-16 08:18:26,836 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:18:26,836 INFO sqlalchemy.engine.Engine [cached since 14.55s ago] (1,)
2026-01-16 08:18:35,224 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:18:35,225 INFO sqlalchemy.engine.Engine [cached since 18.9s ago] (1, 'ubaid123', 'assistant', "I'm sorry, I encountered an error processing your request.", None, '2026-01-16 08:18:35.222826')
2026-01-16 08:18:35,251 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:18:35,252 INFO sqlalchemy.engine.Engine [cached since 18.91s ago] (1,)
2026-01-16 08:18:35,255 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:18:35,256 INFO sqlalchemy.engine.Engine [cached since 18.9s ago] ('2026-01-16 08:18:35.254757', 1)
2026-01-16 08:18:35,260 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:18:35,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:18:35,286 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:18:35,287 INFO sqlalchemy.engine.Engine [cached since 18.9s ago] (9,)
INFO:     127.0.0.1:41554 - "POST /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:18:35,298 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:34680 - "OPTIONS /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:29:49,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:29:49,275 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:29:49,276 INFO sqlalchemy.engine.Engine [cached since 639.9s ago] (1, 'ubaid123', 'user', 'hi', None, '2026-01-16 08:29:49.271173')
2026-01-16 08:29:49,302 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:29:49,303 INFO sqlalchemy.engine.Engine [cached since 639.9s ago] (1,)
2026-01-16 08:29:49,305 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:29:49,306 INFO sqlalchemy.engine.Engine [cached since 639.9s ago] ('2026-01-16 08:29:49.305013', 1)
2026-01-16 08:29:49,310 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:29:49,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:29:49,333 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:29:49,334 INFO sqlalchemy.engine.Engine [cached since 639.9s ago] (10,)
2026-01-16 08:29:49,342 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:29:49,343 INFO sqlalchemy.engine.Engine [cached since 644s ago] (1,)
2026-01-16 08:29:50,878 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:29:50,879 INFO sqlalchemy.engine.Engine [cached since 641.5s ago] (1, 'ubaid123', 'assistant', "I'm sorry, I encountered an error processing your request.", None, '2026-01-16 08:29:50.877768')
2026-01-16 08:29:50,906 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:29:50,907 INFO sqlalchemy.engine.Engine [cached since 641.5s ago] (1,)
2026-01-16 08:29:50,910 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:29:50,911 INFO sqlalchemy.engine.Engine [cached since 641.5s ago] ('2026-01-16 08:29:50.909615', 1)
2026-01-16 08:29:50,914 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:29:50,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:29:50,937 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:29:50,938 INFO sqlalchemy.engine.Engine [cached since 641.5s ago] (11,)
INFO:     127.0.0.1:34680 - "POST /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:29:50,948 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:35998 - "OPTIONS /conversations/ubaid123 HTTP/1.1" 200 OK
INFO:     127.0.0.1:36006 - "OPTIONS /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:50:46,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,615 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
2026-01-16 08:50:46,619 INFO sqlalchemy.engine.Engine [cached since 1784s ago] ('ubaid123',)
INFO:     127.0.0.1:35998 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:50:46,640 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:50:46,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,667 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
INFO:     127.0.0.1:36006 - "OPTIONS /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,677 INFO sqlalchemy.engine.Engine [cached since 1784s ago] ('ubaid123',)
INFO:     127.0.0.1:36006 - "OPTIONS /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,710 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:50:46,713 INFO sqlalchemy.engine.Engine [cached since 1784s ago] (1,)
INFO:     127.0.0.1:35998 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:50:46,736 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:36006 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,750 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:50:46,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,769 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,803 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.created_at, conversations.updated_at 
FROM conversations 
WHERE conversations.user_id = ?
2026-01-16 08:50:46,833 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:50:46,858 INFO sqlalchemy.engine.Engine [cached since 1784s ago] ('ubaid123',)
2026-01-16 08:50:46,865 INFO sqlalchemy.engine.Engine [cached since 1784s ago] (1,)
INFO:     127.0.0.1:35998 - "GET /conversations/ubaid123 HTTP/1.1" 200 OK
2026-01-16 08:50:46,895 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:36006 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,914 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:50:46,915 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,929 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:50:46,930 INFO sqlalchemy.engine.Engine [cached since 1784s ago] (1,)
INFO:     127.0.0.1:35998 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,937 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-16 08:50:46,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:46,943 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:50:46,943 INFO sqlalchemy.engine.Engine [cached since 1784s ago] (1,)
INFO:     127.0.0.1:35998 - "GET /conversations/1/messages HTTP/1.1" 200 OK
2026-01-16 08:50:46,949 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:35998 - "OPTIONS /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:50:50,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:50,223 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:50:50,224 INFO sqlalchemy.engine.Engine [cached since 1783s ago] (1, 'ubaid123', 'user', 'hi', None, '2026-01-16 08:50:50.222269')
2026-01-16 08:50:50,248 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:50:50,249 INFO sqlalchemy.engine.Engine [cached since 1783s ago] (1,)
2026-01-16 08:50:50,250 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:50:50,251 INFO sqlalchemy.engine.Engine [cached since 1783s ago] ('2026-01-16 08:50:50.250045', 1)
2026-01-16 08:50:50,252 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:50:50,264 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:50,265 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:50:50,265 INFO sqlalchemy.engine.Engine [cached since 1783s ago] (12,)
2026-01-16 08:50:50,268 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.conversation_id = ? ORDER BY messages.created_at
2026-01-16 08:50:50,268 INFO sqlalchemy.engine.Engine [cached since 1787s ago] (1,)
2026-01-16 08:50:51,634 INFO sqlalchemy.engine.Engine INSERT INTO messages (conversation_id, user_id, role, content, tool_calls, created_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-16 08:50:51,635 INFO sqlalchemy.engine.Engine [cached since 1785s ago] (1, 'ubaid123', 'assistant', "I'm sorry, I encountered an error processing your request.", None, '2026-01-16 08:50:51.633033')
2026-01-16 08:50:51,655 INFO sqlalchemy.engine.Engine SELECT conversations.id AS conversations_id, conversations.user_id AS conversations_user_id, conversations.created_at AS conversations_created_at, conversations.updated_at AS conversations_updated_at 
FROM conversations 
WHERE conversations.id = ?
2026-01-16 08:50:51,655 INFO sqlalchemy.engine.Engine [cached since 1785s ago] (1,)
2026-01-16 08:50:51,657 INFO sqlalchemy.engine.Engine UPDATE conversations SET updated_at=? WHERE conversations.id = ?
2026-01-16 08:50:51,658 INFO sqlalchemy.engine.Engine [cached since 1785s ago] ('2026-01-16 08:50:51.657100', 1)
2026-01-16 08:50:51,660 INFO sqlalchemy.engine.Engine COMMIT
2026-01-16 08:50:51,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-16 08:50:51,678 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.user_id, messages.role, messages.content, messages.tool_calls, messages.created_at 
FROM messages 
WHERE messages.id = ?
2026-01-16 08:50:51,678 INFO sqlalchemy.engine.Engine [cached since 1785s ago] (13,)
INFO:     127.0.0.1:36006 - "POST /api/ubaid123/chat HTTP/1.1" 200 OK
2026-01-16 08:50:51,683 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58780 - "GET /health HTTP/1.1" 307 Temporary Redirect
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3264]
